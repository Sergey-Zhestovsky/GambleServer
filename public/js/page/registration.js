"use strict";var form=new authorisation({block:$("#registrationForm")});function authorisation(r){var a=r.block,e={name:a.find("#nameInput"),mail:a.find("#mailInput"),password:a.find("#passwordInput"),rePassword:a.find("#rePasswordInput")},n={name:a.find("#nameError"),mail:a.find("#mailError"),password:a.find("#passwordError"),rePassword:a.find("#rePasswordError")};function o(){var r=new formValidator,a={name:e.name.val(),mail:e.mail.val(),password:e.password.val(),rePassword:e.rePassword.val()},o={name:["required"],mail:["required","email"],password:["required",r.setOptionObject("password",a.rePassword)],rePassword:["required"]},i=r.validate(a,o);return 0==Object.keys(i)?a:(function(r){for(var a in t(),r)a in e&&e[a].addClass("authorisation__form-error"),a in n&&s(n[a],localization["validate_"+r[a][0]])}(i),!1)}function s(r,a){r.text(a).parent().show()}function i(){var r=o();0!=r&&$.ajax({type:"POST",url:"/registration",data:r,asinc:!0,success:function(r){r.error?function(r){switch(t(),r.code){case 104:s(n.mail,r.message);break;default:throw new Error("POST ERROR: \n ".concat(r.message))}}(r.error):location.reload()}})}function t(){a.find(".authorisation__form-error").removeClass("authorisation__form-error"),a.find(".authorisation__error").hide()}a.submit(function(r){i(),r.preventDefault()})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3BhZ2UvcmVnaXN0cmF0aW9uLmpzIl0sIm5hbWVzIjpbImZvcm0iLCJhdXRob3Jpc2F0aW9uIiwiYmxvY2siLCIkIiwib3B0aW9ucyIsImZpZWxkcyIsImZpbmQiLCJuYW1lIiwibWFpbCIsInJlUGFzc3dvcmQiLCJlcnJvckZpZWxkcyIsInN1Ym1pdCIsInZhbGlkYXRvciIsImZvcm1WYWxpZGF0b3IiLCJkYXRhIiwidmFsIiwib3B0aW9uIiwic2V0T3B0aW9uT2JqZWN0IiwidmFsaWRhdGUiLCJyZXN1bHQiLCJrZXlzIiwiT2JqZWN0IiwiZXJyb3JzIiwia2V5IiwiY2xlYXIiLCJzZXRFcnJvck1lc3NhZ2UiLCJsb2NhbGl6YXRpb24iLCJzZXRFcnJvcnMiLCJmaWVsZCIsIm1lc3NhZ2UiLCJ0ZXh0IiwiZXJyb3JIYW5kbGVyIiwiZXJyb3IiLCJzaG93IiwidmFsdWVzIiwiYWpheCIsInVybCIsInN1Y2Nlc3MiLCJ0eXBlIiwiYW5zd2VyIiwibG9jYXRpb24iLCJjb2RlIiwiRXJyb3IiLCJjb25jYXQiLCJyZWxvYWQiLCJyZWdpc3RyYXRpb24iLCJyZW1vdmVDbGFzcyIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJoaWRlIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFJQSxLQUFPLElBQUlDLGNBQWMsQ0FDM0JDLE1BQU9DLEVBQUUsdUJBRGtCLFNBQTdCRixjQUFBRyxHQUtFLElBQUlGLEVBQVFFLEVBQVFGLE1BRHRCRyxFQUFTSixDQUNIQyxLQUFLQSxFQUFHRSxLQUFRRixjQUNsQkcsS0FBTUgsRUFBR0ksS0FBQSxjQUNQQyxTQUFZRCxFQUFLQSxLQUFBLGtCQUNqQkUsV0FBWUYsRUFBS0EsS0FBQSxxQkFFakJHLEVBQVlQLENBTGhCSyxLQUFBTCxFQUFBSSxLQUFBLGNBT0VJLEtBQUFBLEVBQVdKLEtBQUcsY0FDWkMsU0FBWUQsRUFBS0EsS0FBQSxrQkFDakJFLFdBQVlGLEVBQUtBLEtBQUEscUJBRkwsU0FQaEJLLElBZUUsSUFBSUMsRUFBWSxJQUFJQyxjQUR0QkMsRUFBU0gsQ0FDSEMsS0FBQUEsRUFBWUwsS0FBSU0sTUFDbEJDLEtBQUlULEVBQUdHLEtBQUFPLE1BQ0xSLFNBQVlGLEVBQU1VLFNBRGJBLE1BRUxQLFdBQWFBLEVBQVBDLFdBRkRNLE9BSUxOLEVBQUFBLENBTEpGLEtBQUEsQ0FBQSxZQU9FUyxLQUFNLENBQUEsV0FBRyxTQUNQVCxTQUFPLENBQUEsV0FEQUssRUFBQUssZ0JBQUEsV0FBQUgsRUFBQUwsYUFFUEQsV0FBTyxDQUFBLGFBRVBDLEVBQUFBLEVBQWFTLFNBQURKLEVBQUFFLEdBWGhCLE9BYXFCRSxHQUFuQkMsT0FBTUMsS0FBR1IsR0FFUFMsR0FPTixTQUFtQkMsR0FHakIsSUFBSyxJQUFJQyxLQUFUQyxJQUFnQkYsRUFJVkMsS0FBT2IsR0FDVGUsRUFBQUEsR0FBQUEsU0FBZ0JmLDZCQUVuQmEsS0FBQWIsR0FDRmUsRUFBQWYsRUFBQWEsR0FBQUcsYUFBQSxZQUFBSixFQUFBQyxHQUFBLEtBYkFJLENBQUFSLElBRFEsR0FnQlQsU0FBU00sRUFBZ0JHLEVBQU9DLEdBSWhDRCxFQUFBRSxLQUFTQyxHQUFhQyxTQUFPQyxPQWUzQixTQUFJQyxJQUVKLElBR0VDLEVBQUt4QixJQUFBLEdBRUx5QixHQUdBQyxFQUFBQSxLQUFBQSxDQUNFQyxLQUFJQyxPQUNGUixJQVZJLGdCQVdMakIsS0FGRG9CLEVBR0VNLE9BQUFBLEVBQ0RILFFBQUEsU0FBQUUsR0FDRkEsRUFBQVAsTUE1QkgsU0FBQUEsR0FHSSxPQUZGUixJQUVFUSxFQUFBUyxNQUZGLEtBQUssSUFHTGhCLEVBQUFmLEVBQUFGLEtBQUF3QixFQUFBSCxTQUNFLE1BQ0EsUUFOSixNQUFBLElBQUFhLE1BQUEsa0JBQUFDLE9BQUFYLEVBQUFILFdBaUJBRSxDQUFBUSxFQUFBUCxPQVNNUSxTQUFTSSxZQVdqQjFDLFNBQU1TLElBQ0prQyxFQUFBQSxLQUFBQSw4QkFBWUMsWUFBQSw2QkFDWkMsRUFBTUMsS0FBQUEseUJBQU5DLE9BRkYvQyxFQUFNUyxPQUFPLFNBQVVvQyxHQUNyQkYsSUFDQUUsRUFBTUMiLCJmaWxlIjoianMvcGFnZS9yZWdpc3RyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZm9ybSA9IG5ldyBhdXRob3Jpc2F0aW9uKHtcclxuICBibG9jazogJCgnI3JlZ2lzdHJhdGlvbkZvcm0nKVxyXG59KVxyXG5cclxuZnVuY3Rpb24gYXV0aG9yaXNhdGlvbihvcHRpb25zKSB7XHJcbiAgbGV0IGJsb2NrID0gb3B0aW9ucy5ibG9jayxcclxuICAgIGZpZWxkcyA9IHtcclxuICAgICAgbmFtZTogYmxvY2suZmluZCgnI25hbWVJbnB1dCcpLFxyXG4gICAgICBtYWlsOiBibG9jay5maW5kKCcjbWFpbElucHV0JyksXHJcbiAgICAgIHBhc3N3b3JkOiBibG9jay5maW5kKCcjcGFzc3dvcmRJbnB1dCcpLFxyXG4gICAgICByZVBhc3N3b3JkOiBibG9jay5maW5kKCcjcmVQYXNzd29yZElucHV0JylcclxuICAgIH0sXHJcbiAgICBlcnJvckZpZWxkcyA9IHtcclxuICAgICAgbmFtZTogYmxvY2suZmluZCgnI25hbWVFcnJvcicpLFxyXG4gICAgICBtYWlsOiBibG9jay5maW5kKCcjbWFpbEVycm9yJyksXHJcbiAgICAgIHBhc3N3b3JkOiBibG9jay5maW5kKCcjcGFzc3dvcmRFcnJvcicpLFxyXG4gICAgICByZVBhc3N3b3JkOiBibG9jay5maW5kKCcjcmVQYXNzd29yZEVycm9yJylcclxuICAgIH07XHJcblxyXG4gIGZ1bmN0aW9uIHN1Ym1pdCgpIHtcclxuICAgIGxldCB2YWxpZGF0b3IgPSBuZXcgZm9ybVZhbGlkYXRvcigpLFxyXG4gICAgICBkYXRhID0ge1xyXG4gICAgICAgIG5hbWU6IGZpZWxkcy5uYW1lLnZhbCgpLFxyXG4gICAgICAgIG1haWw6IGZpZWxkcy5tYWlsLnZhbCgpLFxyXG4gICAgICAgIHBhc3N3b3JkOiBmaWVsZHMucGFzc3dvcmQudmFsKCksXHJcbiAgICAgICAgcmVQYXNzd29yZDogZmllbGRzLnJlUGFzc3dvcmQudmFsKClcclxuICAgICAgfSxcclxuICAgICAgb3B0aW9uID0ge1xyXG4gICAgICAgIG5hbWU6IFtcInJlcXVpcmVkXCJdLFxyXG4gICAgICAgIG1haWw6IFtcInJlcXVpcmVkXCIsIFwiZW1haWxcIl0sXHJcbiAgICAgICAgcGFzc3dvcmQ6IFtcInJlcXVpcmVkXCIsIHZhbGlkYXRvci5zZXRPcHRpb25PYmplY3QoXCJwYXNzd29yZFwiLCBkYXRhLnJlUGFzc3dvcmQpXSxcclxuICAgICAgICByZVBhc3N3b3JkOiBbXCJyZXF1aXJlZFwiXVxyXG4gICAgICB9LFxyXG4gICAgICByZXN1bHQgPSB2YWxpZGF0b3IudmFsaWRhdGUoZGF0YSwgb3B0aW9uKTtcclxuXHJcbiAgICBpZiAoT2JqZWN0LmtleXMocmVzdWx0KSA9PSAwKVxyXG4gICAgICByZXR1cm4gZGF0YTtcclxuICAgIGVsc2VcclxuICAgICAgc2V0RXJyb3JzKHJlc3VsdCk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzZXRFcnJvcnMoZXJyb3JzKSB7XHJcbiAgICBjbGVhcigpO1xyXG5cclxuICAgIGZvciAobGV0IGtleSBpbiBlcnJvcnMpIHtcclxuICAgICAgaWYgKGtleSBpbiBmaWVsZHMpXHJcbiAgICAgICAgZmllbGRzW2tleV0uYWRkQ2xhc3MoJ2F1dGhvcmlzYXRpb25fX2Zvcm0tZXJyb3InKTtcclxuXHJcbiAgICAgIGlmIChrZXkgaW4gZXJyb3JGaWVsZHMpIHtcclxuICAgICAgICBzZXRFcnJvck1lc3NhZ2UoZXJyb3JGaWVsZHNba2V5XSwgbG9jYWxpemF0aW9uW1widmFsaWRhdGVfXCIgKyBlcnJvcnNba2V5XVswXV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzZXRFcnJvck1lc3NhZ2UoZmllbGQsIG1lc3NhZ2UpIHtcclxuICAgIGZpZWxkLnRleHQobWVzc2FnZSkucGFyZW50KCkuc2hvdygpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVycm9yKSB7XHJcbiAgICBjbGVhcigpO1xyXG5cclxuICAgIHN3aXRjaCAoZXJyb3IuY29kZSkge1xyXG4gICAgICBjYXNlIDEwNDpcclxuICAgICAgICBzZXRFcnJvck1lc3NhZ2UoZXJyb3JGaWVsZHMubWFpbCwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQT1NUIEVSUk9SOiBcXG4gJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVnaXN0cmF0aW9uKCkge1xyXG4gICAgY29uc3QgcGF0aCA9ICcvcmVnaXN0cmF0aW9uJztcclxuICAgIGxldCB2YWx1ZXMgPSBzdWJtaXQoKTtcclxuXHJcbiAgICBpZiAodmFsdWVzID09IGZhbHNlKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgJC5hamF4KHtcclxuICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICB1cmw6IHBhdGgsXHJcbiAgICAgIGRhdGE6ICh2YWx1ZXMpLFxyXG4gICAgICBhc2luYzogdHJ1ZSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24oYW5zd2VyKSB7XHJcbiAgICAgICAgaWYgKGFuc3dlci5lcnJvcikge1xyXG4gICAgICAgICAgZXJyb3JIYW5kbGVyKGFuc3dlci5lcnJvcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjbGVhcigpIHtcclxuICAgIGJsb2NrLmZpbmQoJy5hdXRob3Jpc2F0aW9uX19mb3JtLWVycm9yJykucmVtb3ZlQ2xhc3MoXCJhdXRob3Jpc2F0aW9uX19mb3JtLWVycm9yXCIpO1xyXG4gICAgYmxvY2suZmluZCgnLmF1dGhvcmlzYXRpb25fX2Vycm9yJykuaGlkZSgpO1xyXG4gIH1cclxuXHJcbiAgYmxvY2suc3VibWl0KGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgcmVnaXN0cmF0aW9uKCk7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH0pO1xyXG59Il19
